<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
	rel="stylesheet">
<link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css"
	rel="stylesheet">
<title>Sistema DEVCEASA - Embalagens</title>
</head>
<body>

<div th:replace="~{navbar :: menu-principal}"></div>

<div class="container">

    <h2 th:text="${embalagem.id} != null ? 'Editar Embalagem' : 'Nova Embalagem'"></h2>
    
    <!-- Exibir mensagens de sucesso -->
    <div th:if="${success}" th:text="${success}" style="color: green;"></div>

	<div th:replace="~{alert}"></div>

    <form th:action="@{/embalagens/salvar}" th:object="${embalagem}" method="post">
       
       <div th:replace="~{validacao :: validacao}"></div>
        <!-- Exibir erros globais do formulário -->
        <div th:if="${#fields.hasErrors('*')}" style="color: red;">
            <p>Existem erros no formulário:</p>
            <ul>
                <li th:each="err : ${#fields.errors('*')}" th:text="${err}"></li>
            </ul>
        </div>

        <div>
            <label for="codigo">Código:</label>
            <input type="text" id="codigo" th:field="*{codigo}" required>
            <div th:if="${#fields.hasErrors('codigo')}" th:errors="*{codigo}" style="color: red;"></div>
        </div>
       
        
         <div>
            <label for="tipoEmbalagem">Embalagem:</label>
            <select id="tipoEmbalagem" th:field="*{tipoEmbalagem}"  required>
            	<option value="" disable selected>Selecione uma unidade de medida</option>
       			<option th:each="tipo : ${tipos}" th:value="${tipo}" th:text="${tipo}"></option>     
            </select>
            </div>
        
        
        <div>
            <label for="peso">Peso:</label>
            <input type="number" id="peso" th:field="*{peso}" step="0.1" required>
            <div th:if="${#fields.hasErrors('peso')}" th:errors="*{peso}" style="color: red;"></div>
        </div>
          <div>
            <label for="unidadeMedida">Unidade:</label>
            <select id="unidadeMedida" th:field="*{unidadeMedida}"  required>
            	<option value="" disable selected>Selecione uma unidade de medida</option>
       			<option th:each="unidade : ${unidades}" th:value="${unidade}" th:text="${unidade}"></option>     
            </select>
            </div>
        
        <div>
            <button type="submit">Salvar</button>
        </div>
    </form>
    <a th:href="@{/embalagens}">Voltar</a>
   </div> 
   	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
