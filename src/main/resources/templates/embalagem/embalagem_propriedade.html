<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
    xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet">
    <link th:href="@{/css/myStyle.css}" rel="stylesheet">
    <title>Sistema DEVCEASA</title>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.16/jquery.mask.min.js"></script>
</head>
<body>
    <div class="container">
        <h2>Selecionar Propriedade e Embalagens</h2>
        
        <div id="navmenu" th:insert="~{navbar :: menu-principal}"></div>
        
         <div th:if="${success}" class="alert alert-success" role="alert">
            <p th:text="${success}"></p>
        </div>
        
        <div th:if="${fail}" class="alert alert-danger" role="alert">
            <p th:text="${fail}"></p>
        </div>
        
        <div class="meu-hr">
            <p>Embalagem e Propriedade</p>
        </div>
        <!-- Propriedade Selection -->
       <form action="#" method="post" th:action="@{/embalagens/associar}">
   				 <input type="hidden" id="propriedadeId" th:name="propriedadeId" th:value="${propriedade.id}">
  					<div>
            		   <p id="selecaoAtual" th:text="'Seleção Atual: ' + ${propriedade.codigo} + ' - ' + ${propriedade.produto.nome} + ' ' 
            		   + ${propriedade.variedade} + ' ' + ${propriedade.subvariedade}
            		   +		    ' ' + ${propriedade.classificacao} + ' ' + ${propriedade.peso} + ' ' + ${propriedade.unidade}">Seleção Atual:</p>
          		  </div>
    <!-- Embalagens Selection -->
    <div class="mb-3">
    <h4>Selecionar Embalagens</h4>
    <div class="overflow-auto" style="max-height: 300px;">
        <div th:each="embalagem : ${embalagens}" class="form-check">
            <input class="form-check-input" type="checkbox" th:name="embalagens" th:value="${embalagem.id}" th:id="'embalagem-' + ${embalagem.id}">
            <label class="form-check-label" th:for="'embalagem-' + ${embalagem.id}" th:text="${embalagem.codigo}"></label>
        </div>
    </div>
</div>

    <!-- Save Button -->
    <button type="submit" class="btn btn-primary">Salvar</button>
</form>
    </div>
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
     
</body>
</html>
